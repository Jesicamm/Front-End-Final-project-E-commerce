{"ast":null,"code":"var _jsxFileName = \"/home/jessica/PROYECTOS GEEKSHUBS/PROYECTOS/proyecto final front/Front-End-Final-project-E-commerce/finalproject/src/views/Store/Store.jsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Header from '../../components/Header/Header';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Store = props => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  let history = useHistory();\n\n  const find = async () => {\n    _s();\n\n    let products = `http://localhost:3002/products`;\n    const [productlist, setproductlist] = useState({\n      productCollection: []\n    });\n    const [appointOn, setAppoint] = useState({\n      appointDate: '',\n      treatment: '',\n      covid: false,\n      payMethod: ''\n    }); //Datos de lel alquiler , Id del usuario , id de la pelicula y el  objeto completo de la pelicula//\n\n    let rentData = {\n      userId: props.user._id,\n      filmTitle: dataMovie.title,\n      film: dataMovie.poster_path,\n      poster_path: dataMovie.poster_path,\n      payment: true\n    };\n    let response = await axios.post(endPointRent, rentData);\n    localStorage.setItem('rentInfo', JSON.stringify(response));\n    let orderResponse = response.data.order;\n    let objectRent = {\n      orderID: orderResponse._id,\n      client: props.user.name,\n      initialRentDate: orderResponse.order_date,\n      returnRentDate: orderResponse.return_date,\n      payment: true\n    };\n    setOrder(objectRent);\n    setRentFilm(false);\n\n    if (order.payment === true) {\n      return setRealizado('Pago Realizado Mediante Tarjeta');\n    }\n  };\n\n  _s(find, \"xhpTXniJVUxsoGZMZNvHCoheQZ0=\");\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"store-container\",\n    children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 10\n  }, this);\n};\n\n_s2(Store, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Store;\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    token: state.token\n  };\n};\n\nexport default connect(mapStateToProps)(Store);\n\nvar _c;\n\n$RefreshReg$(_c, \"Store\");","map":{"version":3,"sources":["/home/jessica/PROYECTOS GEEKSHUBS/PROYECTOS/proyecto final front/Front-End-Final-project-E-commerce/finalproject/src/views/Store/Store.jsx"],"names":["React","useEffect","useState","Header","useHistory","axios","connect","Store","props","history","find","products","productlist","setproductlist","productCollection","appointOn","setAppoint","appointDate","treatment","covid","payMethod","rentData","userId","user","_id","filmTitle","dataMovie","title","film","poster_path","payment","response","post","endPointRent","localStorage","setItem","JSON","stringify","orderResponse","data","order","objectRent","orderID","client","name","initialRentDate","order_date","returnRentDate","return_date","setOrder","setRentFilm","setRealizado","mapStateToProps","state","token"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;;;AAIA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AAAA;;AAAA;;AAErB,MAAIC,OAAO,GAAGL,UAAU,EAAxB;;AAEA,QAAMM,IAAI,GAAG,YAAY;AAAA;;AAErB,QAAIC,QAAQ,GAAI,gCAAhB;AAEA,UAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC;AAC3CY,MAAAA,iBAAiB,EAAG;AADuB,KAAD,CAA9C;AAIA,UAAM,CAACC,SAAD,EAAYC,UAAZ,IAA0Bd,QAAQ,CAAC;AACrCe,MAAAA,WAAW,EAAE,EADwB;AAErCC,MAAAA,SAAS,EAAE,EAF0B;AAGrCC,MAAAA,KAAK,EAAE,KAH8B;AAIrCC,MAAAA,SAAS,EAAE;AAJ0B,KAAD,CAAxC,CARqB,CAerB;;AACA,QAAIC,QAAQ,GAAG;AACZC,MAAAA,MAAM,EAAEd,KAAK,CAACe,IAAN,CAAWC,GADP;AAEZC,MAAAA,SAAS,EAAEC,SAAS,CAACC,KAFT;AAGZC,MAAAA,IAAI,EAAEF,SAAS,CAACG,WAHJ;AAIZA,MAAAA,WAAW,EAAEH,SAAS,CAACG,WAJX;AAKZC,MAAAA,OAAO,EAAE;AALG,KAAf;AASA,QAAIC,QAAQ,GAAG,MAAM1B,KAAK,CAAC2B,IAAN,CAAWC,YAAX,EAAyBZ,QAAzB,CAArB;AACAa,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeN,QAAf,CAAjC;AACA,QAAIO,aAAa,GAAGP,QAAQ,CAACQ,IAAT,CAAcC,KAAlC;AAEA,QAAIC,UAAU,GAAG;AACdC,MAAAA,OAAO,EAAEJ,aAAa,CAACd,GADT;AAEdmB,MAAAA,MAAM,EAAEnC,KAAK,CAACe,IAAN,CAAWqB,IAFL;AAGdC,MAAAA,eAAe,EAAEP,aAAa,CAACQ,UAHjB;AAIdC,MAAAA,cAAc,EAAET,aAAa,CAACU,WAJhB;AAKdlB,MAAAA,OAAO,EAAE;AALK,KAAjB;AAOAmB,IAAAA,QAAQ,CAACR,UAAD,CAAR;AACAS,IAAAA,WAAW,CAAC,KAAD,CAAX;;AAEA,QAAIV,KAAK,CAACV,OAAN,KAAkB,IAAtB,EAA4B;AACzB,aAAOqB,YAAY,CAAC,iCAAD,CAAnB;AACF;AACH,GA1CF;;AAJqB,KAIfzC,IAJe;;AAgDnB,sBACG;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,2BACG,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,UADH;AAOL,CAvDD;;IAAMH,K;UAEYH,U;;;KAFZG,K;;AAyDN,MAAM6C,eAAe,GAAGC,KAAK,IAAI;AAC9B,SAAO;AACJ9B,IAAAA,IAAI,EAAE8B,KAAK,CAAC9B,IADR;AAEJ+B,IAAAA,KAAK,EAAED,KAAK,CAACC;AAFT,GAAP;AAIF,CALD;;AAOA,eAAehD,OAAO,CAAC8C,eAAD,CAAP,CAAyB7C,KAAzB,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Header from '../../components/Header/Header';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\n\n\n\nconst Store = (props) => {\n   \n    let history = useHistory();\n\n    const find = async () => {\n\n        let products = `http://localhost:3002/products`;\n\n        const [productlist, setproductlist] = useState({\n            productCollection : []\n        })\n    \n        const [appointOn, setAppoint] = useState({\n            appointDate: '',\n            treatment: '',\n            covid: false,\n            payMethod: '',\n        });\n  \n        //Datos de lel alquiler , Id del usuario , id de la pelicula y el  objeto completo de la pelicula//\n        let rentData = {\n           userId: props.user._id,\n           filmTitle: dataMovie.title,\n           film: dataMovie.poster_path,\n           poster_path: dataMovie.poster_path,\n           payment: true,\n  \n        };\n  \n        let response = await axios.post(endPointRent, rentData);\n        localStorage.setItem('rentInfo', JSON.stringify(response))\n        let orderResponse = response.data.order;\n  \n        let objectRent = {\n           orderID: orderResponse._id,\n           client: props.user.name,\n           initialRentDate: orderResponse.order_date,\n           returnRentDate: orderResponse.return_date,\n           payment: true\n        }\n        setOrder(objectRent);\n        setRentFilm(false)\n  \n        if (order.payment === true) {\n           return setRealizado('Pago Realizado Mediante Tarjeta');\n        }\n     }\n  \n      return (\n         <div className='store-container'>\n            <Header />\n            \n         </div>\n      )\n   \n};\n\nconst mapStateToProps = state => {\n   return {\n      user: state.user,\n      token: state.token\n   }\n};\n\nexport default connect(mapStateToProps)(Store);"]},"metadata":{},"sourceType":"module"}